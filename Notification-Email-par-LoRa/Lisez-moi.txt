NOTIFICATION E-MAIL PAR LORA 

Le projet est un système d’alarme qui envoie un avertissement par e-mail via le réseau LoRa lors du mouvement d’un capteur. Le matériel utilisé est celui de la compagnie TheThingsNetwork (The Things Gateway et The Things Node) ainsi que leur plateforme. 

Matériel Nécéssaire
-The Things Gateway
-The Things Node 
-Arduino

*IMPORTANT* : Pour ceux qui voulant utiliser le hardware TheThingsGateway il peut seulement être enregistré par un utilisateur. Il faut garder vos identifiants et libérer le matériel à la fin du projet ou rendre votre compte accessible pour les prochains qui voudront utiliser le gateway ou le capteur. Il est possible de faire un transfert de propriété à partir du compte ayant fait l’enregistrement vers un autre utilisateur (en cliquant sur le matériel -> owner : transfer ownership) 

Mon identifiant : gmarcovitch
Mot de passe : tgemaisonneuve2020

ÉTAPES 
1- Télécharger les librairies Arduino nécéssaires. La librairie du board SparkFun Pro Micro ira dans le fichier Arduino -> Hardware.  La librairie TheThingsNode va dans le fichier Arduino -> librairie. 

2 -Se créer un compte sur https://www.thethingsnetwork.org

3- Suivre la procédure d’activation du gateway détaillée dans le vidéo.  Il faut l’enregistrer via leur site web pouvoir l’utiliser dans la section console du site.
note : le lien web d’activation a changé : https://activate.thethingsnetwork.org
https://youtu.be/cJNK4y1is2Q

4- Suivre la procédure d’activation du capteur détaillée dans le vidéo. Il faut utiliser le programme DeviceInfo pour obtenir le code d’activation du Node. Après avoir enregistré et activé le Node sur la console TheThingsNetwork utiliser le programme Basic pour envoyer des données sur la plateforme. 
https://youtu.be/tapK6EINx1k

5 - Implémenter les codes sur la console du site

5.1-  Le code du fichier payload_decoder contient une fonction servant à décoder les données envoyées par le capteur 
( Console -> Applications -> Votre Application –> Payload Format -> Decoder)

5.2 - Le code du fichier payload_converter contient une fonction servant à envoyer un trigger 
Lorsqu’il y a un évènement du type mouvement détecté par le capteur. 
( Console -> Applications -> Votre Application –> Payload Format -> Converter)

6 – Se créer un compte sur le site IFTT et relier la console au site pour recevoir une notification e-mail lorsqu’il y a un trigger. Suivre la procédure du vidéo pour comprendre comment faire pour rajouter l’intégration sur la console.
note : sur IFTTT la plateforme  "Maker" s’appelle maintenant "Webhooks"
https://ifttt.com/home
https://www.youtube.com/watch?v=BNyB_A1o2xc









